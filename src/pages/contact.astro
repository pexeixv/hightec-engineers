---
import hygraph from '@js/hygraph'
import BaseLayout from '@layouts/BaseLayout.astro'
export interface Office {
    email: string
    address: string
    name: string
    map: string
    phone: string
}
import { addLineBreaks, extractIframeSrc } from '@js/utils'
const offices = (await hygraph('offices')) as Array<Office>
---

<BaseLayout title='Contact'>
    <section>
        <div
            class='container mx-auto px-5 py-10 lg:py-20 flex flex-col lg:flex-row gap-12 lg:gap-28'
        >
            <div class='lg:w-1/2 flex flex-col'>
                <h1 class='text-5xl mb-8 font-black'>Contact us</h1>
                <p>
                    We would love to hear from you! Whether you have a question,
                    want to discuss a project, or simply want to learn more
                    about our construction services, our team is here to assist
                    you. Get in touch with us today and let's start building
                    together.
                </p>
            </div>
            <div
                class='lg:w-1/2 flex flex-col gap-4 mt-4 lg:text-right lg:items-end'
            >
                <a
                    class='flex gap-2 items-center group'
                    href='//fb.com/100063727312928'
                    ><i class='fa-brands fa-facebook-f text-2xl'></i>
                    <span class='group-hover:underline'>/hightecengineers</span>
                </a>
                <a
                    class='flex gap-2 items-center group'
                    href='//instagr.am/hightecengineers'
                    ><i class='fa-brands fa-instagram text-2xl'></i>
                    <span class='group-hover:underline'>/hightecengineers</span>
                </a>
                <a
                    class='flex gap-2 items-center group'
                    href='tel:+918412024400'
                    ><i class='fa-solid fa-phone text-2xl'></i>
                    <span class='group-hover:underline'>+91 8412024400</span>
                </a>
                <a
                    class='flex gap-2 items-center group'
                    href='mailto:hightecengineers4@gmail.com'
                    ><i class='fa-solid fa-envelope text-2xl'></i>
                    <span class='group-hover:underline'
                        >hightecengineers4@gmail.com</span
                    >
                </a>
            </div>
        </div>
    </section>

    <section>
        <iframe
            class='w-full'
            src='https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d962.1852426524007!2d73.9807765!3d15.2819154!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bbfb3d371b32ce9%3A0x5fb4d2fc3d02962e!2sSuyash%20Gardens%2C%20Swami%20Chinmayanand%20Road%2C%20Gogol%20Housing%20Board%2C%20Margao%2C%20Goa%20403601!5e0!3m2!1sen!2sin!4v1697476857796!5m2!1sen!2sin'
            height='450'
            style='border:0;'
            allowfullscreen=''
            loading='lazy'
            referrerpolicy='no-referrer-when-downgrade'></iframe>
    </section>

    <section>
        <div class='container mx-auto px-5 py-10 grid lg:grid-cols-2 gap-24'>
            {
                offices.map((office) => (
                    <div class=' bg-blue-50'>
                        <div class='p-8 space-y-4'>
                            <h2 class='text-4xl font-bold'>{office?.name}</h2>
                            <a class='flex gap-2'>
                                <i class='fa-solid fa-location-dot text-2xl' />
                                <Fragment
                                    set:html={addLineBreaks(office?.address)}
                                />
                            </a>
                            {office?.email && (
                                <a
                                    class='flex gap-2 items-center group'
                                    href={`mailto:${office?.email}`}
                                >
                                    <i class='fa-solid fa-envelope text-2xl' />
                                    <span class='group-hover:underline'>
                                        {office?.email}
                                    </span>
                                </a>
                            )}
                        </div>
                    </div>
                ))
            }
        </div>
    </section>
</BaseLayout>
